!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?exports.html_freeform=r():e.html_freeform=r()}(window,(function(){return d=[function(module,exports){eval('looker.plugins.visualizations.add({\r\n    options: {\r\n        html_freeform: {\r\n          type: "string",\r\n          label: "Freeform HTML. Use strings like ~1, ~2, or ~3 to access data inside the html",\r\n          display: "text",\r\n          default: "<div>Your custom HTML</div>"\r\n        },\r\n   \r\n      styles_freeform: {\r\n        type: "string",\r\n        label: "Freeform Styles",\r\n        display: "text",\r\n        default: `@font-face {\r\n          font-family: Open Sans;\r\n          src: url( https://fonts.gstatic.com/s/opensans/v17/mem8YaGs126MiZpBA-UFVZ0b.woff2 );\r\n        }\r\n        div {\r\n          background-color: white;\r\n          text-align: center;\r\n        }`\r\n      },\r\n        use_html_from_fields: {\r\n          type: "boolean",\r\n          label: "Use html from fields",\r\n          default: false\r\n      },\r\n        // rows_per_page: {\r\n        //   type:"number",\r\n        //   label:"Rows per Page",\r\n        //   default:5\r\n        // },\r\n        // current_page: {\r\n        //   type:"number",\r\n        //   label:"Current Page",\r\n        //   default:1\r\n        // }\r\n  },\r\n\r\n\tcreate: function(element, config){\r\n    element.innerHTML = `<div class="html_freeform">Rendering...</div>`;\r\n    },\r\n\tupdateAsync: function(data, element, config, queryResponse, details, doneRendering){\r\n        const totalPages = data.length / config.rows_per_page;\r\n\r\n        console.log(data);\r\n        \r\n        element.innerHTML = \'\'\r\n        let measure_fields = queryResponse.fields.measure_like.map((field) => {\r\n            // let key =    field.label\r\n            return field.name\r\n        })\r\n        let dimension_fields = queryResponse.fields.dimension_like.map((field) => {\r\n          // let key =    field.label\r\n          return field.name\r\n         \r\n      })\r\n        let fields = dimension_fields.concat(measure_fields)\r\n\r\n        let existingStyleRef =  document.getElementById("freeformStyle") \r\n        if (existingStyleRef) existingStyleRef.remove()\r\n        \r\n        var styleEl = document.createElement(\'style\');\r\n        styleEl.setAttribute(\'type\',"text/css")\r\n        styleEl.setAttribute(\'id\',"freeformStyle")\r\n        styleEl.innerHTML = config.styles_freeform\r\n\r\n        document.head.appendChild(styleEl);\r\n\r\n        let html = \'\'\r\n        // let firstRow = 1\r\n        // let lastRow = 5\r\n        // for (var i=1; data[i] > 0; i++){\r\n        //   console.log("test", data[i])\r\n        // }\r\n        for(var row of data) {\r\n          let rowHtml = config.html_freeform || \' \';\r\n          fields.map((field, i) => {\r\n            let cellHtml = \' \'\r\n            var cell = row[field];\r\n            cellHtml = LookerCharts.Utils.textForCell(cell);\r\n            rowHtml = rowHtml.replace(`~${i+1}`\r\n            , cellHtml)\r\n          })\r\n          html = html + rowHtml;\r\n        }\r\n       element.innerHTML = html;\r\n\t\tdoneRendering()\r\n\t}\r\n});\n\n//# sourceURL=webpack://%5Bname%5D/./src/visualizations/html_freeform.js?')}],e={},f.m=d,f.c=e,f.d=function(e,r,n){f.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},f.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},f.t=function(e,r){if(1&r&&(e=f(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(f.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var t in e)f.d(n,t,function(r){return e[r]}.bind(null,t));return n},f.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return f.d(r,"a",r),r},f.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},f.p="",f(f.s=0);function f(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return d[r].call(n.exports,n,n.exports,f),n.l=!0,n.exports}var d,e}));